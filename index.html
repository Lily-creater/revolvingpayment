<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>貸付業の利益</title>
</head>
<body>
    <form id="form1" action="#">
        <p>総額</p>
        <input type="text" id="input_message" value="">
        <p>月々の支払額</p>
        <input type="text" id="input_message2" value="">
        <input type="button" onclick="func1()" value="送信">
    </form>
    <div id="output_message"></div>
    <!-- <script type="text/javascript" src  ="Script1.js"></script> -->
    <script language="javascript" type="text/javascript">
        function func1(){
        const principal = Number(document.getElementById("input_message").value,10); //元金
        const PayBack = Number(document.getElementById("input_message2").value,10);//毎月返すお金
        const interest=0.15; //金利
        var debt=principal; //残りの借金
        var Total_Pay=0;//それまでの払ったお金の合計

        //1ヶ月後
        //debt=debt*(interest+1) -PayBack;
        //two months after
        //debt=debt*(interest+1) -PayBack;
        //3 months after
        //………
        if(principal*interest < PayBack){
        
            while(debt > 0){
            debt=debt*(1+interest)-PayBack;
            Total_Pay=Total_Pay+PayBack;
            }
            // pay over -debt yen
            // correct amount of total_pay
            Total_Pay=Total_Pay-(-1)*debt;
            // alert("Earn "+(Total_Pay-principal) +"yens");
            document.getElementById("output_message").innerHTML = "Earn "+(Total_Pay-principal) +" yens";
            
        }else{
        document.getElementById("output_message").innerHTML = "Earn infinity!";
        }   
    }

    </script>
</body>
</html>
